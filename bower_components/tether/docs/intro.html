<p><script src="dist/js/tether.js"></script></p>
<p><script src="docs/js/markAttachment.js"></script></p>
<p><script src="docs/js/intro.js"></script></p>
<link rel="stylesheet" href="docs/css/intro.css"></link>

<h1 id="Tether"><a href="#Tether" class="headerlink" title="Tether"></a>Tether</h1><p>Tether is a JavaScript library for efficiently making an absolutely positioned<br>element stay next to another element on the page. For example, you might<br>want a tooltip or dialog to open, and remain, next to the relevant item<br>on the page.</p>
<p>Tether includes the ability to constrain the element within the viewport, its<br>scroll parent, any other element on the page, or a fixed bounding box.  When it<br>exceeds those constraints it can be pinned to the edge, flip to the other<br>side of its target, or hide itself.</p>
<p>Tether optimizes its location placement to result in the minimum amount of<br>‘jankyness’ as the page is scrolled and resized.  The page can maintain 60fps<br>scrolling even with dozens or hundreds of tethers on screen (pop open the<br>devtools timeline as you scroll this page).</p>
<p>Tether is 5kb minified and gzipped, and supports IE9+, and all modern<br>browsers.</p>
<p><h2 class="projects-header">Projects Built With Tether</h2></p>
<p class="projects-paragraph"><br><a href="http://github.hubspot.com/select/docs/welcome"><span>Select</span><img src="http://github.hubspot.com/os-icons/select-icon.png" /></a><br><a href="http://github.hubspot.com/drop/docs/welcome"><span>Drop</span><img src="http://github.hubspot.com/os-icons/drop-icon.png" /></a><br><a href="http://github.hubspot.com/tooltip/docs/welcome"><span>Tooltip</span><img src="http://github.hubspot.com/os-icons/tooltip-icon.png" /></a><br><a href="http://github.hubspot.com/shepherd/docs/welcome"><span>Shepherd</span><img src="http://github.hubspot.com/os-icons/shepherd-icon.png" /></a><br></p>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>The element to be moved is called the ‘element’.<br>The element in the page it’s to be attached to is called the ‘target’.</p>
<p>To use Tether, you define a point on the target and a point on the element.<br>Tether moves the element to keep those two points on top of each other.</p>
<p>That point is called the attachment (we’ve marked it in the examples with<br>a red <span class="attachment-mark"></span>).  For example, if you’d like<br>the element to sit on the left of the target:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example='usage'>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top right’,<br>  targetAttachment: ‘top left’<br>});<br></code></pre><output data-example='usage'></output></p>
<h2 id="Attachment"><a href="#Attachment" class="headerlink" title="Attachment"></a>Attachment</h2><p>You can move the attachment points of both the element and the target.</p>
<p>For example, lets move the element’s attachment:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: <mark>‘bottom left’</mark>,<br>  targetAttachment: ‘top left’<br>});<br></code></pre><output></output></p>
<p>We can also change the target’s attachment point:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘bottom left’,<br>  targetAttachment: <mark>‘bottom right’</mark><br>});<br></code></pre><output></output></p>
<p>There are two more attachment points we haven’t seen yet, center and middle:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: <mark>‘middle center’</mark>,<br>  targetAttachment: <mark>‘middle center’</mark><br>});<br></code></pre><output></output></p>
<p>All told, Tether provides six built in attachment positions:</p>
<ul>
<li>left</li>
<li>center</li>
<li>right</li>
<li>top</li>
<li>middle</li>
<li>bottom</li>
</ul>
<p>The syntax of the attachment properties is: <code>&quot;vertical-attachment horizontal-attachment&quot;</code>.</p>
<p>You must always supply an <code>attachment</code>.  If you don’t supply a <code>target-attachment</code>, it is<br>assumed to be the mirror image of <code>attachment</code>.</p>
<h3 id="Offset"><a href="#Offset" class="headerlink" title="Offset"></a>Offset</h3><p>The six attachment points we provide are not always enough to place the element<br>exactly where you want it.  To correct this, we provide two more properties,<br><code>offset</code> and <code>targetOffset</code>.</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top right’,<br>  targetAttachment: ‘top left’,<br>  <mark>offset: ‘0 10px’</mark><br>});<br></code></pre><output></output></p>
<p>As you can see, we’ve moved the attachment point of the element 10px to the right.<br>We can also move the attachment point of the target:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top right’,<br>  targetAttachment: ‘top left’,<br>  offset: ‘0 10px’,<br>  <mark>targetOffset: ‘20px 0’</mark><br>});<br></code></pre><output></output></p>
<p>The offset properties also accept percentages. Percentages in <code>offset</code> refer to<br>the height and width of the element, <code>targetOffset</code> the height and width of<br>the target.</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top right’,<br>  targetAttachment: ‘top left’,<br>  targetOffset: <mark>‘0 75%’</mark><br>});<br></code></pre><output></output></p>
<p>The syntax of the offset properties is <code>&quot;vertical-offset horizontal-offset&quot;</code></p>
<p>Tether offers a couple of special attachments, using the <code>targetModifier</code><br>option:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: scrollBox,<br>  attachment: ‘middle right’,<br>  targetAttachment: ‘middle left’,<br>  targetModifier: ‘scroll-handle’<br>});<br></code></pre><output></output></p>
<p>Set the target to <code>document.body</code> to have the element follow the page’s scroll bar.</p>
<p>The <code>targetModifier</code> <code>visible</code> can be used to attach an element to the visible part<br>of an element:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: document.body,<br>  attachment: ‘middle center’,<br>  targetAttachment: ‘middle center’,<br>  <mark>targetModifier: ‘visible’</mark><br>});<br></code></pre><output deactivated></output></p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example="scroll-visible">new Tether({<br>  element: yellowBox,<br>  <mark>target: scrollBox</mark>,<br>  attachment: ‘middle center’,<br>  targetAttachment: ‘middle center’,<br>  targetModifier: ‘visible’<br>});<br></code></pre><output class="no-green scroll-page" data-example="scroll-visible"></output></p>
<h2 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h2><p>If you have tried any of the previous examples, you’ll notice that it’s pretty<br>easy to scroll the regions in such a way that the element is hanging out on<br>its own, with no target in sight.</p>
<p>Constraints allow you to control what happens when the tethered element would<br>have to fall outside of a defined region to maintain the attachment.</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘middle left’,<br>  targetAttachment: ‘middle left’,<br>  <mark>constraints</mark>: [<br>    {<br>      to: ‘scrollParent’,<br>      pin: true<br>    }<br>  ]<br>});<br></code></pre><output></output></p>
<p>We’ve created a constraint which will keep the element within its scroll<br>parent by ‘pinning’ it to the edges if it tries to escape.  For the sake<br>of the example, we’re also highlighting the pinned edge in red.</p>
<p>Specify an array of sides if you’d only like to pin those edges:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘middle left’,<br>  targetAttachment: ‘middle left’,<br>  constraints: [<br>    {<br>      to: ‘scrollParent’,<br>      pin: <mark>[‘top’]</mark><br>    }<br>  ]<br>});<br></code></pre><output></output></p>
<p>You might want to allow the element to change its attachment, if doing so<br>would keep more of it within its assigned region:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  targetAttachment: ‘bottom left’,<br>  constraints: [<br>    {<br>      to: ‘scrollParent’,<br>      <mark>attachment: ‘together’</mark><br>    }<br>  ]<br>});<br></code></pre><output></output></p>
<p>If you scroll the example a bit, you’ll see it flip the attachment when necessary.<br>You can combine <code>pin</code> and <code>attachment</code> as well:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  targetAttachment: ‘bottom left’,<br>  constraints: [<br>    {<br>      to: ‘scrollParent’,<br>      attachment: ‘together’,<br>      <mark>pin: true</mark><br>    }<br>  ]<br>});<br></code></pre><output></output></p>
<p>Attachment will accept any of these values:</p>
<ul>
<li><code>element</code>: Only change the element’s attachment</li>
<li><code>target</code>: Only change the target’s attachment</li>
<li><code>both</code>: Change either’s attachment (or both), as needed</li>
<li><code>together</code>: Change both the element’s and target’s attachment at the same time (to<br>‘flip’ the element to the other side of the attachment)</li>
<li><code>none</code>: Don’t allow changes to attachment (the default)</li>
</ul>
<p>Together is the option you will use most commonly:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top right’,<br>  targetAttachment: ‘bottom left’,<br>  constraints: [<br>    {<br>      to: ‘scrollParent’,<br>      attachment: <mark>‘together’</mark><br>    }<br>  ]<br>});<br></code></pre><output></output></p>
<p>You can also provide different settings for the vertical and horizontal attachments:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  targetAttachment: ‘bottom left’,<br>  constraints: [<br>    {<br>      to: ‘scrollParent’,<br>      attachment: <mark>‘together none’</mark><br>    }<br>  ]<br>});<br></code></pre><output></output></p>
<p>Whenever the element is out of the constrained area, we add the <code>tether-out-of-bounds</code><br>class to it.  If you add some CSS to make items with that class <code>display: none</code>, the<br>tether will hide.</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example="hide">new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘middle center’,<br>  targetAttachment: ‘middle center’,<br>  constraints: [<br>    {<br>      to: ‘scrollParent’<br>    }<br>  ]<br>});<br></code></pre><output data-example="hide"></output></p>
<p>You can also constrain the element to the viewport, you’ll have to scroll the<br>page to see this one.</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example="window">new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  targetAttachment: ‘bottom left’,<br>  constraints: [<br>    {<br>      to: <mark>‘window’</mark>,<br>      attachment: ‘together’<br>    }<br>  ]<br>});<br></code></pre><output data-example="window" class="scroll-page"></output></p>
<p>You can, of course, use pin with the window as well to<br>make it always visible no matter where the user scrolls:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  targetAttachment: ‘bottom left’,<br>  constraints: [<br>    {<br>      to: ‘window’,<br>      attachment: ‘together’,<br>      <mark>pin: true</mark><br>    }<br>  ]<br>});<br></code></pre><output deactivated class="scroll-page visible-enabled"></output></p>
<p><code>to</code> can be any of:</p>
<ul>
<li><code>&#39;scrollParent&#39;</code></li>
<li><code>&#39;window&#39;</code></li>
<li>any DOM element</li>
<li>an array of bound points relative to the body <code>[X1, Y1, X2, Y2]</code></li>
</ul>
<p>You can also provide multiple constraints, keeping in mind that they are<br>processed in the order supplied (the last one always has the final word).</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  targetAttachment: ‘bottom left’,<br>  constraints: [<br>    {<br>      to: <mark>‘scrollParent’</mark>,<br>      pin: true<br>    },<br>    {<br>      to: <mark>‘window’</mark>,<br>      attachment: ‘together’<br>    }<br>  ]<br>});<br></code></pre><output></output></p>
<h2 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h2><h3 id="Element-Moving"><a href="#Element-Moving" class="headerlink" title="Element Moving"></a>Element Moving</h3><p>The goal of Tether’s optimizer is to not have to change the positioning<br>CSS as the page is scrolled or resized.  To accomplish this it looks at the<br>last few positions, finds commonalities, and uses them to decide whether to<br>position the element absolutely or with fixed positioning.</p>
<p>If the element is fully contained within its scroll parent, its DOM node<br>can also be moved inside the scroll parent, to avoid repaints as the<br>container is scrolled.</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example="optimizer">new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  targetAttachment: ‘bottom left’<br>});<br></code></pre><output data-example="optimizer"></output></p>
<p>We are moving where the DOM node is, so if you have CSS which styles elements<br>within the offset parent, you may see some rendering changes.  Also note<br>that this optimization works best if the scroll parent is the offset parent.<br>In other words, <strong>the scroll parent should be made position relative, fixed or<br>absolute to enable this optimization.</strong></p>
<p>If you do see stylistic changes occur when the element is moved,<br>you might want to disable this optimization.  You can do that by<br>setting <code>optimizations.moveElement</code> to false.</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example="optimizer2">new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  targetAttachment: ‘bottom left’,<br>  optimizations: {<br>    <mark>moveElement: false</mark><br>  }<br>});<br></code></pre><output data-example="optimizer2"></output></p>
<h3 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h3><p>By default tether positions elements using CSS transforms.  These transforms allow the<br>tethered element to be moved as its own layer to not force a repaint of the underlying<br>page.</p>
<p>This method of positioning can cause some issues however, including color shifts and artifacts.</p>
<p>If you experience these issues, you can disable this optimization by setting <code>optimizations.gpu</code><br>to false:</p>
<p><pre class="pre-with-output"><code class="lang-javascript" data-example>new Tether({<br>  element: yellowBox,<br>  target: greenBox,<br>  attachment: ‘top left’,<br>  optimizations: {<br>    <mark>gpu: false</mark><br>  }<br>});<br></code></pre><output></output></p>
<h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><p>The <code>Tether</code> constructor we’ve been using in these examples returns us a<br><code>Tether</code> object.</p>
<p>The <code>Tether</code> object has these methods:</p>
<ul>
<li><code>setOptions({ options })</code> - Update any of the options (such as attachment)</li>
<li><code>disable()</code> - Disable the tethering</li>
<li><code>enable()</code> - Enable the tethering</li>
<li><code>destroy()</code> - Disable and remove all references</li>
<li><code>position()</code> - Manually trigger a repositioning</li>
</ul>
<h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><p>The full list of options which can be passed to the <code>Tether</code> constructor and<br><code>setOptions</code>:</p>
<ul>
<li><code>element</code>: The DOM element, jQuery element, or a selector string of an element which will be moved</li>
<li><code>target</code>: The DOM element, jQuery element, or a selector string of an element which the <code>element</code> will be attached to</li>
<li><code>attachment</code>: A string of the form <code>&#39;vert-attachment horiz-attachment&#39;</code><ul>
<li><code>vert-attachment</code> can be any of <code>&#39;top&#39;</code>, <code>&#39;middle&#39;</code>, <code>&#39;bottom&#39;</code></li>
<li><code>horiz-attachment</code> can be any of <code>&#39;left&#39;</code>, <code>&#39;center&#39;</code>, <code>&#39;right&#39;</code></li>
</ul>
</li>
<li><code>targetAttachment</code>: A string similar to <code>attachment</code>.<br>The one difference is that, if it’s not provided, targetAttachment will assume the mirror<br>image of <code>attachment</code>.</li>
<li><code>offset</code>: A string of the form <code>&#39;vert-offset horiz-offset&#39;</code><ul>
<li><code>vert-offset</code> and <code>horiz-offset</code> can be of the form <code>&quot;20px&quot;</code> or <code>&quot;55%&quot;</code></li>
</ul>
</li>
<li><code>targetOffset</code>: A string similar to <code>offset</code>, but refering to the offset of the target</li>
<li><code>targetModifier</code>: Can be set to <code>&#39;visible&#39;</code> or <code>&#39;scroll-handle&#39;</code></li>
<li><code>enabled</code>: Should the tether be enabled initially? Defaults to <code>true</code>.</li>
<li><code>classes</code>: A hash of classes which should be changed or disabled</li>
<li><code>classPrefix</code>: The prefix placed at the beginning of the default classes, defaults to <code>&#39;tether&#39;</code></li>
<li><code>optimizations</code>: A hash of optimizations, used to disable them</li>
<li><code>constraints</code>: An array of constraint definition objects.  Each definition is of the form:<ul>
<li><code>to</code>: A DOM element, bounding box, the string <code>&#39;window&#39;</code>, or the string <code>&#39;scrollParent&#39;</code></li>
<li><code>pin</code>: <code>true</code> or an array of strings representing the sides of the constraint</li>
<li><code>attachment</code>: A string of the form <code>&quot;vert-modifier horiz-modifier&quot;</code>, or a single value<br>representing both<ul>
<li>Each modifier should be one of <code>&quot;none&quot;</code>, <code>&quot;together&quot;</code>, <code>&quot;element&quot;</code>, <code>&quot;target&quot;</code>, or <code>&quot;both&quot;</code>.</li>
</ul>
</li>
<li><code>outOfBoundsClass</code>: An alternative to <code>&quot;tether-out-of-bounds&quot;</code>, useful if the class<br>needs to be differentiated from that of another constraint.</li>
<li><code>pinnedClass</code>: An alternative to <code>&quot;tether-pinned&quot;</code>, similar to <code>outOfBoundsClass</code>.</li>
</ul>
</li>
</ul>
<h2 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h2><p>Tether adds a variety of classes to the element and target to allow you to style<br>them based on their tethering.</p>
<p>You can change the prefix of the classes with the <code>classPrefix</code> option.  It is <code>&#39;tether&#39;</code> by<br>default, but you could, for example, change it to be <code>&#39;bill&#39;</code> if you were building the bill<br>library and all the classes would be <code>&#39;bill-*&#39;</code>.</p>
<pre><code class="javascript"><span class="keyword">new</span> Tether({
  classPrefix: <span class="string">'bill'</span>
});
</code></pre>
<p>The sass/css is similarily configurable, see<br><a href="https://github.com/HubSpot/tooltip/blob/master/sass/tooltip-theme-arrows.sass#L14">tooltip</a> for<br>an example of how to make your own prefixed css file.</p>
<p>All classes can be changed or disabled with the <code>classes</code> option.  For example, to change the<br><code>tether-element</code> class to be <code>my-box</code>:</p>
<pre><code class="javascript"><span class="keyword">new</span> Tether({
  classes: {
    element: <span class="string">'my-box'</span>
  }
});
</code></pre>
<p>You can also disable classes you’re not going to use:</p>
<pre><code class="javascript"><span class="keyword">new</span> Tether({
  classes: {
    out-<span class="keyword">of</span>-bounds: <span class="literal">false</span>
  }
});
</code></pre>
<ul>
<li><code>tether-element</code> is added to the element</li>
<li><code>tether-target</code> is added to the target</li>
<li><code>tether-enabled</code> is added to both elements when tether is not disabled</li>
<li><code>tether-element-attached-[left,right,top,bottom,middle,center]</code> is added to both<br>elements based on the elements attachment, if the element becomes detached (for<br>example, if it’s pinned), that class is removed.  The class reflects how the<br>element is actually attached, so if a constraint changes the attachment, that<br>change will be reflected in the class.</li>
<li><code>tether-target-attached-[left,right,top,bottom,middle,center]</code> is added to both<br>elements based on the target’s attachment.  All of the characteristics are the<br>same as for element-attached.</li>
</ul>
<h3 id="Constraint-related-Classes"><a href="#Constraint-related-Classes" class="headerlink" title="Constraint-related Classes"></a>Constraint-related Classes</h3><ul>
<li><code>tether-out-of-bounds</code>, <code>tether-out-of-bounds-[side]</code> are added to both the element and the target<br>when the element is placed outside of its constraint.</li>
<li><code>tether-pinned</code>, <code>tether-pinned-[side]</code> are added to both the element and target when a constraint<br>has pinned the element to the [side] of the container.</li>
</ul>
<h2 id="Browser-Support"><a href="#Browser-Support" class="headerlink" title="Browser Support"></a>Browser Support</h2><p>Tether supports IE9+, and all modern browsers.</p>
<p>Google doesn’t support IE8, Microsoft is dropping support in a few months, and not supporting it saves<br>us a whole lot of trouble.  If you are interested in adding support, get in touch, we’re happy to accept<br>a PR.</p>
<h2 id="Contributing"><a href="#Contributing" class="headerlink" title="Contributing"></a>Contributing</h2><p>Please contribute! Tether is developed in Coffeescript, but if that’s problematic for you, feel free<br>to submit pull requests which just change the JavaScript files, we can adapt them as needed.</p>
<p>To build Tether, you need:</p>
<ul>
<li>Node.js</li>
</ul>
<h4 id="Instructions"><a href="#Instructions" class="headerlink" title="Instructions"></a>Instructions</h4><ul>
<li>Install the build tool</li>
</ul>
<pre><code class="bash">npm install -g gulp
</code></pre>
<ul>
<li>Install the project</li>
</ul>
<pre><code class="bash"><span class="comment"># In the project directory</span>
npm install
</code></pre>
<ul>
<li>Build / Watch</li>
</ul>
<pre><code class="bash">gulp
</code></pre>
